<!DOCTYPE html>
<html  lang="en"
  class="light-style layout-menu-fixed"
  dir="ltr"
  data-theme="theme-default"
  data-template="vertical-menu-template-free"
  xmlns:th="http://thymeleaf.org" 
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>자재 투입</title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="./images/favicon.png">

    <link href="../assets/vendor/css/fullcalendar.min.css" rel="stylesheet">
    <link href="../assets/css/style.css" rel="stylesheet">

</head>

<body>

    <!--*******************
        Preloader start
    ********************-->
    <div id="preloader">
        <div class="sk-three-bounce">
            <div class="sk-child sk-bounce1"></div>
            <div class="sk-child sk-bounce2"></div>
            <div class="sk-child sk-bounce3"></div>
        </div>
    </div>
    <!--*******************
        Preloader end
    ********************-->


    <!--**********************************
        Main wrapper start
    ***********************************-->
    <div id="main-wrapper">

        

        <!--**********************************
            Header start
        ***********************************-->
        <div class="header">
        
            <div style="width:100px; height:150px; float:left;">
				<img src="../images/maru_logo.png" width="70px" height="70px">
			</div>
			<div style="width:300px; height:150px; padding-top:20px; float:left;">
				 <h2 style="color:blue">마루건설 자재 투입</h2>
			</div>
        </div>
        <!--**********************************
            Header end ti-comment-alt
        ***********************************-->

        <!--**********************************
            Sidebar start
        ***********************************-->
        <div class="quixnav">
            
			 <div class="card" style="width:80%; margin:100px 20px;">
                	   <div class="card-body">
                                <h4 class="card-intro-title">투입 종류</h4>

                                <div class="">
                                    <div id="external-events" class="my-3">
                                        <p>Drag&Drop 으로 편하게 일정 관리</p>
                                        <div class="external-event" data-class="bg-danger"><i class="fa fa-move"></i>공통 자재</div>
                                        <div class="external-event" data-class="bg-primary"><i class="fa fa-move"></i>건축팀 자재</div>
                                        <div class="external-event" data-class="bg-success"><i class="fa fa-move"></i>토목팀 자재
                                        </div>
                                        <div class="external-event" data-class="bg-warning"><i class="fa fa-move"></i>전기팀 자재</div>
                                        <div class="external-event" data-class="bg-pink"><i class="fa fa-move"></i>기계팀 자재</div>                                    	
                                    </div>
                                  
                                </div>
                            </div>
                        </div>
                        
                    <div class="card" style="width:80%; margin:20px;" >
                    	<button type="button" class="btn btn-outline-primary" th:onclick="|location.href='@{commitMaterial?projects_num=1}'|">돌아가기</button>                   
                    </div>    

        </div>
        <!--**********************************
            Sidebar end
        ***********************************-->

        <!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body">
            <div class="container-fluid">
               
                <!-- row -->


                <div class="row">
                   
                    <div class="col-lg-10">
                        <div class="card">
                            <div class="card-body">
                                <div id="calendar" class="app-fullcalendar"></div>
                            </div>
                        </div>
                    </div>
                    <!-- BEGIN MODAL -->
                    <div class="modal fade none-border" id="event-modal">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title"><strong>투입 일정 추가</strong></h4>
                                </div>
                                <div class="modal-body"></div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">닫기</button>
                                    <button type="button" class="btn btn-success save-event waves-effect waves-light">투입</button>

                                    <button type="button" class="btn btn-danger delete-event waves-effect waves-light" data-dismiss="modal">삭제</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Modal Add Category -->
                    <div class="modal fade none-border" id="add-category">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title"><strong>Add a category</strong></h4>
                                </div>
                                <div class="modal-body">
                                    <form>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label class="control-label">Category Name</label>
                                                <input class="form-control form-white" placeholder="Enter name" type="text" name="category-name">
                                            </div>
                                            <div class="col-md-6">
                                                <label class="control-label">Choose Category Color</label>
                                                <select class="form-control form-white" data-placeholder="Choose a color..." name="category-color">
                                                    <option value="danger">공통 자재</option>
                                                    <option value="primary">건축팀 자재</option>
                                                    <option value="success">토목팀 자재</option>
                                                    <option value="warning">전기팀 자재</option>
                                                    <option value="pink">기계팀 자재</option>
                                                </select>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">닫기</button>
                                    <button type="button" class="btn btn-danger waves-effect waves-light save-category" data-dismiss="modal">저장</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <!--**********************************
            Content body end
        ***********************************-->


   

        


    </div>
    <!--**********************************
        Main wrapper end
    ***********************************-->

    <!--**********************************
        Scripts
    ***********************************-->
    <!-- Required vendors -->
    <script src="../assets/vendor/js/global.min.js"></script>
    <script src="../assets/vendor/js/quixnav-init.js"></script>
    <script src="../assets/vendor/js/custom.min.js"></script>
    <!--removeIf(production)-->
    <!-- Demo scripts -->
    <script src="../assets/vendor/js/styleSwitcher.js"></script>



    <script src="../assets/vendor/js/jquery-ui.min.js"></script>
    <script src="../assets/vendor/js/moment.min.js"></script>

    <script src="../assets/vendor/js/fullcalendar.min.js"></script>
 	<script>
 	
 	! function(e) {
 	    "use strict";
 	    var t = function() {
 	        this.$body = e("body"), this.$modal = e("#event-modal"), this.$event = "#external-events div.external-event", this.$calendar = e("#calendar"), this.$saveCategoryBtn = e(".save-category"), this.$categoryForm = e("#add-category form"), this.$extEvents = e("#external-events"), this.$calendarObj = null
 	    };
 	    t.prototype.onDrop = function(t, n) {
 	        var a = t.data("eventObject"),
 	            o = t.attr("data-class"),
 	            i = e.extend({}, a);
 	        i.start = n, o && (i.className = [o]), this.$calendar.fullCalendar("renderEvent", i, !0), e("#drop-remove").is(":checked") && t.remove()
 	    }, t.prototype.onEventClick = function(t, n, a) {
 	        var o = this,
 	            i = e("<form></form>");
 	        i.append("<label>Change event name</label>"), i.append("<div class='input-group'><input class='form-control' type=text value='" + t.title + "' /><span class='input-group-btn'><button type='submit' class='btn btn-success waves-effect waves-light'><i class='fa fa-check'></i> Save</button></span></div>"), o.$modal.modal({
 	            backdrop: "static"
 	        }), o.$modal.find(".delete-event").show().end().find(".save-event").hide().end().find(".modal-body").empty().prepend(i).end().find(".delete-event").unbind("click").on("click", function() {
 	            o.$calendarObj.fullCalendar("removeEvents", function(e) {
 	                return e._id == t._id
 	            }), o.$modal.modal("hide")
 	        }), o.$modal.find("form").on("submit", function() {
 	            return t.title = i.find("input[type=text]").val(), o.$calendarObj.fullCalendar("updateEvent", t), o.$modal.modal("hide"), !1
 	        })
 	    }, t.prototype.onSelect = function(t, n, a) {
 	        var o = this;
 	        o.$modal.modal({
 	            backdrop: "static"
 	        });
 	        var i = e("<form></form>");
 	        i.append("<div class='row'></div>"), i.find(".row").append("<div class='col-md-6'><div class='form-group'><label class='control-label'>투입 제목</label><input class='form-control' placeholder='투입 자재 이름' type='text' name='title'/></div></div>").append("<div class='col-md-6'><div class='form-group'><label class='control-label'>카테고리</label><select class='form-control' name='category'></select></div></div>").find("select[name='category']").append("<option value='bg-danger'>공통 자재</option>").append("<option value='bg-success'>공통 자재</option>").append("<option value='bg-dark'>건축팀 자재</option>").append("<option value='bg-primary'>토목팀 자재</option>").append("<option value='bg-pink'>전기팀 자재</option>").append("<option value='bg-info'>기계팀 자재</option>").append("<option value='bg-warning'>기타</option></div></div>"), o.$modal.find(".delete-event").hide().end().find(".save-event").show().end().find(".modal-body").empty().prepend(i).end().find(".save-event").unbind("click").on("click", function() {
 	            i.submit()	
 	        }), o.$modal.find("form").on("submit", function() {
 	            var e = i.find("input[name='title']").val(),
 	                a = (i.find("input[name='beginning']").val(), i.find("input[name='ending']").val(), i.find("select[name='category'] option:checked").val());
 	            return null !== e && 0 != e.length ? (o.$calendarObj.fullCalendar("renderEvent", {
 	                title: e,
 	                start: t,
 	                end: n,
 	                allDay: !1,
 	                className: a
 	            }, !0), o.$modal.modal("hide")) : alert("You have to give a title to your event"), !1
 	        }), o.$calendarObj.fullCalendar("unselect")
 	    }, t.prototype.enableDrag = function() {
 	        e(this.$event).each(function() {
 	            var t = {
 	                title: e.trim(e(this).text())
 	            };
 	            e(this).data("eventObject", t), e(this).draggable({
 	                zIndex: 999,
 	                revert: !0,
 	                revertDuration: 0
 	            })
 	        })
 	    }, t.prototype.init = function() {
 	        this.enableDrag();
 	        var t = new Date,
 	            n = (t.getDate(), t.getMonth(), t.getFullYear(), new Date(e.now())),
 	            a = [{
 	                title: "석재 투입",
 	                start: new Date(e.now() + 158e6),
 	                className: "bg-pink"
 	            },          	
 	            	
 	            
 	            	{
 	                title: "외장재 투입",
 	                start: n,
 	                end: n,
 	                className: "bg-danger"
 	            }, {
 	                title: "목재 투입",
 	                start: new Date(e.now() + 338e6),
 	                className: "bg-primary"
 	            },{
 	                title: "단열재 투입",
 	                start: new Date('2022-10-02'),
 	                className: "bg-warning"
 	            }],
 	            o = this;
 	        o.$calendarObj = o.$calendar.fullCalendar({
 	            slotDuration: "00:15:00",
 	            minTime: "08:00:00",
 	            maxTime: "19:00:00",
 	            defaultView: "month",
 	            handleWindowResize: !0,
 	            height: e(window).height() - 100,
 	            header: {
 	                left: "prev,next today",
 	                center: "title",
 	                right: "month,agendaWeek,agendaDay"
 	            },
 	            events: a,
 	            editable: !0,
 	            droppable: !0,
 	            eventLimit: !0,
 	            selectable: !0,
 	            drop: function(t) {
 	                o.onDrop(e(this), t)
 	            },
 	            select: function(e, t, n) {
 	                o.onSelect(e, t, n)
 	            },
 	            eventClick: function(e, t, n) {
 	                o.onEventClick(e, t, n)
 	            }
 	        }), this.$saveCategoryBtn.on("click", function() {
 	            var e = o.$categoryForm.find("input[name='category-name']").val(),
 	                t = o.$categoryForm.find("select[name='category-color']").val();
 	            null !== e && 0 != e.length && (o.$extEvents.append('<div class="external-event bg-' + t + '" data-class="bg-' + t + '" style="position: relative;"><i class="fa fa-move"></i>' + e + "</div>"), o.enableDrag())
 	        })
 	    }, e.CalendarApp = new t, e.CalendarApp.Constructor = t
 	}(window.jQuery),
 	function(e) {
 	    "use strict";
 	    e.CalendarApp.init()
 	}(window.jQuery);
 	</script>

</body>

</html>